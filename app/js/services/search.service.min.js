app.service("searchJson",function(t,p,r){var m=["the","a","an","another","the","an","some","any","my","our","their","her","his","it","another","each","every","certain","its","another","no","this","that","of","out","to","i","with","by","as","far","into","out"];this.search=function(t,r){return function(t,r){for(var n=r.split(" "),e=0;e<n.length-1;e++)n[e]+=" ";{if(0<(n=function(t){for(var r=[],n=0;n<t.length;n++)1<t[n].length&&-1==m.indexOf(t[n])&&r.push(t[n]);return r}((v=n=function(t){for(var r=0;r<t.length;r++)t[r]=t[r].trim();return t}(n),g=[],p.forEach(v,function(t){t=t.toLowerCase(),g.push(t)}),n=g))).length){for(e=0;e<n.length;e++)var o=p.toLower(n[e]),a=p.filter(t,function(t){return p.includes(p.toLower(t.name),o)}),i=p.filter(t,function(t){return p.includes(p.toLower(t.about),o)});var u=p.concat(a,i),h=p.uniqBy(u,function(t){return t.loID}),c=function(t){var r=[];p.forEach(t,function(t){-1==t.titleArr.indexOf(!1)&&r.push(t)});var n=[],e=p.sortBy(t,"count"),o=p.sortBy(r,"count");p.forEachRight(e,function(t){n.push(t)});var a=p.concat(o,n);return p.uniqBy(a,function(t){return t.loID})}(h=function(t,r){var n=p.map(r,function(t){return p.extend({},t,{count:0,titleArr:[]})});r=n;for(var e=0;e<t.length;e++)for(var o=0,a=t[e].trim(),i=0;i<r.length;i++){var u=new RegExp(a,"g"),h=p.toLower(r[i].name);o+=(h.match(u)||[]).length,h.search(a),0<o||-1!=h.search(a)||1==r[i].matched?r[i].titleArr.push(!0):r[i].titleArr.push(!1),r[i].count=o,o=0}return r}(n,h)),s=(f=c,l=n,p.forEach(f,function(t){var r=t.name;console.log(l);for(var n=0;n<l.length;n++){var e=l[n].trim().toLowerCase();r=t.name;var o=new RegExp("(\\b(?!class=)w*"+e+"w*)","gi");r=r.replace(o,'<span class="highlight">$1</span>'),t.name=r}}),f);return{data:s}}return{data:[]}}var f,l;var v,g}((r=r||{}).data,t)},this.results=""});